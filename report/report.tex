\documentclass[10pt] {article}
\usepackage[portuguese]{babel}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage[labelformat=empty]{caption}
\usepackage{tikz}
\setcounter{secnumdepth}{5}
\setcounter{tocdepth}{5}

\usepackage{geometry} % Required to change the page size to A4
\geometry{a4paper} % Set the page size to be A4 as opposed to the default US Letter

\usepackage{tikz}
\usepackage{pgfplots}

\usepackage{indentfirst} %Identação nos parágrafos iniciais

% Code
\usepackage{listings}
\lstset{language=C, breaklines=true, basicstyle=\footnotesize} % Especificar Haskell, mudar de linha quando acabar espaço, diminuir tamanho da letra.
\usepackage{fixltx2e} % Corrige alguns erros
\begin{document}

\title{Relatório Trabalho Prático Java \\ $\small{Grupo 13}$}

\maketitle

%--------------------------------
% Group Members
%--------------------------------
\begin{figure}[!htb]
\minipage{0.31\textwidth}
  \includegraphics[width=\linewidth]{jc.jpg}
  \caption{João Costa A70563}\label{fig:awesome_image1}
\endminipage\hfill
\minipage{0.29\textwidth}
  \includegraphics[width=\linewidth]{ls.jpg}
  \caption{Leandro Salgado A70949}\label{fig:awesome_image2}
\endminipage\hfill
\minipage{0.32\textwidth}%
  \includegraphics[width=\linewidth]{ma.jpg}
  \caption{Martinho Aragão A72205}
\endminipage
\end{figure}

\newpage

\tableofcontents

\newpage

\section{Introdução}

\newpage
\section{Classes}
Na seguinte secção vamos explicar as classes que decidimos criar para a resolução do projeto, incluindo diagramas 
de classes e explicação das estruturas escolhidas para cada classe.

% ClientsCatalog
\subsection{ClientsCatalog}
\par Para guardar os clientes presentes no ficheiro de clientes, criámos a classe \textbf{ClientsCatalog} irá tratar de guardar 
os clientes e manter também a lista de clientes que não realizaram nenhuma compra.
\par Também é esta class que trata de criar a lista com os códigos de cliente dado a letra inicial do código.
\par Fica aqui o código que define as variáveis de instância:

\begin{lstlisting}[language=Java]
public class ClientsCatalog {
	/* Codigo de cliente -> Cliente */
	private TreeSet<String> clients;
	/* Lista de clientes que nao compraram nenhum produto */
	private TreeSet<String> unused_clients;
}
\end{lstlisting}

\par Uma das vantagens desta implementação é quando o utilizador decidir ler um novo ficheiro de compras não é necessário 
percorrer a lista de todos os clientes e voltar a inserir na lista de clientes que nunca compraram nada para depois retirar à 
medida que aparecem no ficheiro de compras, como \textbf{String} são imutáveis basta correr o código: 
$unused\_clients = clients.clone();$ e a variável $unused\_clients$ passa agora a ter novamente a lista de todos os clientes que estão no catálogo de clientes.

%ProductsCatalog
\subsection{ProductsCatalog}
\par A classe \textbf{ProductsCatalog} vai ser a responsável por guardar todos os códigos de produtos existentes no ficheiro de 
produtos assim como guardar a lista de produtos que ninguém comprou.
\par Para guardar a duas listas referidas usamos a classe \textbf{TreeSet} visto que como os códigos de produtos são apenas 
do tipo \textbf{String} a pesquisa num \textbf{TreeSet} torna-se rápida.
\par A declaração das variáveis de instância é a seguinte:

\begin{lstlisting}[language=Java]
public class ProductsCatalog {
	/* Lista de todos os codigos de produto */
	private TreeSet<String> products;
	/* Lista de produtos que ninguem comprou */
	private TreeSet<String> unused_products;
}
\end{lstlisting}

\par Tal como no caso da classe \textbf{ClientsCatalog} sempre que for necessário voltar a ler o ficheiro de compras é fácil 
reconstruir a lista de todos os códigos de produto na lista dos produtos que ninguém comprou, basta correr: 
$unused\_products = products.clone();$.

\newpage
\section{Módulos}
\subsection{Catálogo de Clientes}
\par Para manter uma cópia de todos os clientes que existem para, por exemplo, verificar se uma compra é válida, é necessário 
criar um catálogo de clientes. Visto que o catálogo apenas deveria guardar os códigos de clientes decidimos criar a classe 
\textbf{ClientsCatalog} que guarda todos os códigos de client do tipo \textbf{String} num TreeSet para permitir uma pesquisa 
rápida.

% UI
\newpage
\section{Interface Utilizador}

\newpage
\section{Diagrama de Classes}

\newpage
\section{Gráficos e Resultados}

\newpage
\section{Conclusão}

\indent\par Em suma, apesar de cada uma das queries ter sido concluída, o trabalho mantém-se inacabado. De
facto, existem inúmeros pormenores que não foram resolvidos da melhor forma, como por exemplo a
eficácia da \emph{query 12}. Mesmo assim, a execução por módulos, com encapsulamento e abstração de dados
foi conseguida. Nota-se, no entanto, uma clara distinção entre a organização e o código dos diferentes módulos.
Outro dos problemas presentes, embora menor, é a não adoção das regras de C no que toca à designação de
nomes de variáveis e funções.
\par Uma das dificuldades que nos deparamos no curso deste trabalho prático é que, quando se trabalha com vista a responder a um conjunto tão grande de queries
haverá sempre uma decisão a fazer, ou se perde mais tempo na inicialização do programa consumindo mais memória e se gasta
menos tempo na execução da tarefa ou, pelo contrário, se gasta menos tempo na inicialização, menos memória e mais tempo na
execução da tarefa. Seja qual for a decisão tomada há sempre um sacrifício a fazer.
\par Em jeito de esclarecimento, o trabalho foi realizado em inglês por uma questão de aprendizagem no que toca à
utilização de ferramentas de código aberto, neste caso git através do GitHub. Deixou-se, no entando todo o output em português, assim, o utilizador
deparar-se-ia exclusivamente com a sua língua.

\end{document}